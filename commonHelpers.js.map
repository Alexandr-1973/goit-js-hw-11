{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","const internetServerInfo = {\n  BASE_URL: 'https://pixabay.com',\n  END_POINT: '/api/',\n  API_KEY: '42307570-a64cb029cc8427df0f0b3ddcd',\n  constParameters: '&image_type=photo&orientation=horizontal&safesearch=true',\n};\n\nexport default internetServerInfo;\n","export default function renderHtml(markup) {\n  document.querySelector('.gallery').innerHTML = markup;\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport svgError from '/img/bi_x-octagon.svg';\n\nimport internetServerInfo from './js/pixabay-api';\n\nimport renderHtml from './js/render-functions';\n\nconst formSubmit = document.querySelector('.form');\nformSubmit.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  document.querySelector('.gallery').innerHTML = '';\n  const searchText = event.target.elements.searchInput.value;\n  formSubmit.reset();\n\n  if (searchText) {\n    document\n      .querySelector('.gallery')\n      .insertAdjacentHTML('beforebegin', `<span class=\"loader\"></span>`);\n\n    const { BASE_URL, END_POINT, API_KEY, constParameters } =\n      internetServerInfo;\n    const url = `${BASE_URL}${END_POINT}?key=${API_KEY}&q=${searchText}${constParameters}`;\n\n    fetch(url)\n      .then(response => response.json())\n      .then(array => {\n        if (array.hits.length === 0) {\n          iziToast.error({\n            timeout: 3000,\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            maxWidth: '432px',\n            messageColor: '#fff',\n            messageSize: '16px',\n            messageLineHeight: '1.5',\n            backgroundColor: '#ef4040',\n            position: 'topRight',\n            titleColor: '#fff',\n            titleSize: '16px',\n            titleLineHeight: '1.5',\n            iconUrl: svgError,\n          });\n          return;\n        } else {\n          const markup = array.hits\n            .map(image => {\n              const {\n                webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads,\n              } = image;\n              return `<li class=\"gallery-item\">\n<a class=\"gallery-link\" href=${largeImageURL}>\n<img class=\"gallery-image\" src=${webformatURL} alt=\"${tags}\" />\n</a><div class=\"options-div\"><div class=\"item-div\"><h4 class=\"item-div-name\">Likes</h4>\n  <p class=\"item-div-text\">${likes}</p></div><div class=\"item-div\"><h4 class=\"item-div-name\">Views</h4>\n  <p class=\"item-div-text\">${views}</p></div><div class=\"item-div\"><h4 class=\"item-div-name\">Comments</h4>\n  <p class=\"item-div-text\">${comments}</p></div><div class=\"item-div\"><h4 class=\"item-div-name\">Downloads</h4>\n  <p class=\"item-div-text\">${downloads}</p></div></div>\n</li>`;\n            })\n            .join('');\n\n          renderHtml(markup);\n\n          var lightbox = new SimpleLightbox('.gallery a', {\n            captionPosition: 'bottom',\n            captionsData: 'alt',\n            className: 'modal',\n            /* options */\n          });\n          lightbox.refresh();\n        }\n      })\n      .catch(() => {\n        console.log('Mistake from server');\n      });\n\n    setTimeout(() => {\n      document.querySelector('.loader').remove();\n    }, 1000);\n  }\n}\n"],"names":["svgError","internetServerInfo","renderHtml","markup","formSubmit","onSubmit","event","searchText","BASE_URL","END_POINT","API_KEY","constParameters","url","response","array","iziToast","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox"],"mappings":"6vBAAA,MAAeA,EAAA,kDCATC,EAAqB,CACzB,SAAU,sBACV,UAAW,QACX,QAAS,qCACT,gBAAiB,0DACnB,ECLe,SAASC,EAAWC,EAAQ,CACzC,SAAS,cAAc,UAAU,EAAE,UAAYA,CACjD,CCcA,MAAMC,EAAa,SAAS,cAAc,OAAO,EACjDA,EAAW,iBAAiB,SAAUC,CAAQ,EAE9C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,SAAS,cAAc,UAAU,EAAE,UAAY,GAC/C,MAAMC,EAAaD,EAAM,OAAO,SAAS,YAAY,MAGrD,GAFAF,EAAW,MAAK,EAEZG,EAAY,CACd,SACG,cAAc,UAAU,EACxB,mBAAmB,cAAe,8BAA8B,EAEnE,KAAM,CAAE,SAAAC,EAAU,UAAAC,EAAW,QAAAC,EAAS,gBAAAC,CAAiB,EACrDV,EACIW,EAAM,GAAGJ,CAAQ,GAAGC,CAAS,QAAQC,CAAO,MAAMH,CAAU,GAAGI,CAAe,GAEpF,MAAMC,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAS,CACb,GAAIA,EAAM,KAAK,SAAW,EAAG,CAC3BC,EAAS,MAAM,CACb,QAAS,IACT,QACE,2EACF,SAAU,QACV,aAAc,OACd,YAAa,OACb,kBAAmB,MACnB,gBAAiB,UACjB,SAAU,WACV,WAAY,OACZ,UAAW,OACX,gBAAiB,MACjB,QAASf,CACrB,CAAW,EACD,MACV,KAAe,CACL,MAAMG,EAASW,EAAM,KAClB,IAAIE,GAAS,CACZ,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA,+BACUE,CAAa;AAAA,iCACXD,CAAY,SAASE,CAAI;AAAA;AAAA,6BAE7BC,CAAK;AAAA,6BACLC,CAAK;AAAA,6BACLC,CAAQ;AAAA,6BACRC,CAAS;AAAA,MAEtC,CAAa,EACA,KAAK,EAAE,EAEVrB,EAAWC,CAAM,EAEjB,IAAIqB,EAAW,IAAIC,EAAe,aAAc,CAC9C,gBAAiB,SACjB,aAAc,MACd,UAAW,OAEvB,CAAW,EACDD,EAAS,QAAO,CACjB,CACT,CAAO,EACA,MAAM,IAAM,CACX,QAAQ,IAAI,qBAAqB,CACzC,CAAO,EAEH,WAAW,IAAM,CACf,SAAS,cAAc,SAAS,EAAE,OAAM,CACzC,EAAE,GAAI,CACR,CACH"}